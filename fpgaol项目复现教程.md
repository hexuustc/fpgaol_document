# fpgaol项目复现教程

## 概览

首先需要在自己电脑上运行fpgaol节点分发界面，再在树莓派上运行fpgaol_pi_ng程序，通过修改设备节点列表以使节点分发界面能够连接上树莓派端程序，并修改一系列相关配置以使系统能够正常工作。

**注：此教程为大致流程，省略了若干细节，遇到问题多查资料，建议与项目文档一起看**

## fpgaol节点分发界面运行

在202.38.79.134这台服务器上，有一个fpgaol.zip，路径为

```
~/fpgaol.zip
```

通过scp将这个压缩包下载到自己电脑上解压即为fpgaol的工程项目

在程序源代码的基础上需要修改一些内容

将device_manager.py里的树莓派节点列表改为自己的树莓派ip地址

并将fpga/view.py里的树莓派地址格式改为自己的树莓派的ip地址格式

最后，运行这个django项目即可，地址栏输入项目地址即可看到界面

#### 静态文件问题

项目运行过程中有可能碰到静态文件加载问题，有两种解决办法：

1.自己设置nginx转发静态文件，具体配置可以参考服务器上的文件内容

2.直接将django的debug模式改为True即可

## 树莓派端程序的运行

首先树莓派需要两个文件，

1. fpgaol_pi_ng可执行文件
2. docroot文件夹

一代的位于202.38.86.70里，二代的在二代服务器下192.168.1.148里

scp后放在树莓派目录~中即可

如何需要配置nginx，具体配置详见fpgaol_pi_ng文档，其中的new_server文件夹在202.38.79.96中的~/fpgaol-ansible/new_server中

其中的命令需要自己看懂并在自己电脑上执行

且只需配置树莓派端的nginx即可，不需要配置主服务器端的nginx，因为暂时无需访问自己电脑的ip地址

然后按照文档里的方式启动fpgaol_pi_ng程序即可

最后地址栏访问此树莓派ip地址即可打开烧写界面，若打不开说明nginx配置有问题

## 电脑与树莓派连接

可采用有线或者无线方式

#### 有线

用网线连接树莓派，无线设置为共享，arp -a即可查看ip地址

ssh 此ip地址即可登录

将此ip地址作为device_manager.py里的ip地址填上即可

程序启动时会自动访问此ip地址内的程序界面

#### 无线

选定一个二代树莓派，查询其ip地址，然后在202.38.79.96中添加对此ip地址的nginx转发，具体步骤见fpgaol_pi_ng文档反向代理-主服务器端部分，然后访问服务器的特定端口即可访问树莓派页面

然后在此树莓派中配置树莓派端程序运行，并配置树莓派nginx

device_manager.py中的ip地址填上202.38.79.96+特定端口即可



